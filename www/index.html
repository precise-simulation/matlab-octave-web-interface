<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>MlOct Webserver</title>

    <style>
      * {
          font-family: "Courier New", Courier, monospace;
          font-size: 11pt;
        }
    </style>

  </head>

  <body style="margin:0;height:100vh;">

    <div id="outer_div" style="background-color:lightblue;height:100%;display:flex;flex-flow:column">

      <div id="toolbar" style="flex:0;padding:1em 0.5em 0.5em 2em"> <b><i>Matlab/Octave</i> Web Server</b> </div>

      <div id="log_window" style="flex:1;padding:0.5em 1em 0.5em 1em">
        <iframe name="cmd_log_iframe" id="cmd_log_iframe" style="background-color:white;width:100%;height:100%"></iframe>
      </div>

      <div style="flex:0;padding:0.5em 0.5em 1em 0.5em">
        <form id="cmd_imput_form" action="eval_web_command.m" method="post"
              onsubmit="this.submit(); this.reset(); return false;"
              accept-charset="UTF-8" target="cmd_log_iframe" style="display:flex;flex-flow:row">
          <label for="cmd" style="padding:0 1em 0 0.5em;flex:0"> <b>>></b> </label>
          <input id="cmd_input" style="padding-left:0.5em;margin-right:0.3em;background-color:white;flex:1"
                 type="text" name="cmd"><br>
        </form>
      </div>

    </div>

  </body>

  <script>
    window.onload = function(){
      document.getElementById("cmd_input").focus();

      var html_string = `<html><head><style> * { font-family: "Courier New", Courier, monospace; font-size: 14; }</style></head><body><pre><code>


            Welcome to the Matlab/Octave web server.

            Use the bottom >> field to type in commands.

                         </code></pre></body></html>`;

      document.getElementById("cmd_log_iframe").src = "data:text/html;charset=utf-8," + escape(html_string);
    };
  </script>

</html>
